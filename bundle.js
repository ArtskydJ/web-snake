!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.startGame=t()}}(function(){return function t(e,n,o){function i(a,f){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!f&&c)return c(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){function o(t){u.clearRect(0,0,t.width*f.width,t.height*f.height)}function i(t,e,n){u.fillStyle=n,u.fillRect(t*f.width,e*f.height,f.width,f.height)}function r(){d.width=d.clientWidth,d.height=d.clientHeight,u.fillStyle="#eee",u.fillRect(0,0,d.width,d.height);const t={width:Math.floor(d.width/f.width),height:Math.floor(d.height/f.height)};return o(t),{updateCanvas:a,board:t}}function a(t,e,n){o(t),i(n[0],n[1],"green"),e.forEach(function(t,n){var o=Math.round((-n+(e.length-1)/2)*c),r=Math.max(255+Math.min(0,o),50),a=Math.min(Math.max(0,o),205),f=("0"+a.toString(16)).slice(-2),d=("0"+r.toString(16)).slice(-2);i(t[0],t[1],"#"+f+f+d)})}const f={width:50,height:50},c=3;var d=document.getElementById("canvas"),u=d.getContext("2d");e.exports=r},{}],2:[function(t,e,n){e.exports=function(t){const e={37:"left",38:"up",39:"right",40:"down"},n={left:["up","down"],right:["up","down"],up:["left","right"],down:["left","right"]};window.onkeydown=function(o){var i=e[o.keyCode],r=t.nextDirections[t.nextDirections.length-1]||t.currentDirection,a=n[r];a.indexOf(i)!==-1&&t.nextDirections.push(i)}}},{}],3:[function(t,e,n){function o(t){for(var e=[],n=0;n<t;n++)e.push([n,0]);return e}function i(t,e,n){return t.slice(1).some(function(t){return t[0]===e&&t[1]===n})}function r(t,e){do var n=Math.floor(Math.random()*t.width),o=Math.floor(Math.random()*t.height);while(i(e,n,o));return[n,o]}function a(t,e){for(var n=0;n<e;n++)t.unshift(t[0])}function f(t,e){var n=e.snake.slice(),o=e.food.slice(),f=e.nextDirections.slice(),c=e.delayMs,d=f.shift()||e.currentDirection,u={left:-1,right:1}[d]||0,h={up:-1,down:1}[d]||0,s=n[n.length-1][0]+u,l=n[n.length-1][1]+h;return s<0||s>=t.board.width||l<0||l>=t.board.height||i(n,s,l)?{dead:!0}:(n.shift(),n.push([s,l]),o[0]===s&&o[1]===l&&(a(n,t.growAmount),c/=t.accelerate,o=r(t.board,n)),{snake:n,food:o,currentDirection:d,nextDirections:f,delayMs:c,dead:!1})}var c=t("./canvas.js"),d=t("./keyboard.js"),u=null;e.exports=function(t){function e(){clearTimeout(u),i(t.board,h.snake,h.food),d(h),u=setTimeout(function(){h=f(t,h),h.dead||e()},h.delayMs)}if(!t||"object"!=typeof t)throw new Error("Expected constants to be an object");if("number"!=typeof t.initialLength)throw new Error("Expected constants.initialLength to be a number");if("number"!=typeof t.initialDelayMs)throw new Error("Expected constants.initialDelayMs to be a number");if("number"!=typeof t.growAmount)throw new Error("Expected constants.growAmount to be a number");if("number"!=typeof t.accelerate)throw new Error("Expected constants.accelerate to be a number");var n=c(),i=n.updateCanvas;t.board=n.board;var a=o(t.initialLength),h={snake:a,food:r(t.board,a),currentDirection:"right",nextDirections:[],delayMs:t.initialDelayMs,dead:!1};e()}},{"./canvas.js":1,"./keyboard.js":2}]},{},[3])(3)});